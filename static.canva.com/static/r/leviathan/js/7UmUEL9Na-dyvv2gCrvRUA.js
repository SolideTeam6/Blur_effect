(function() {var m,n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,aa={};function p(a,b){(aa[a]=aa[a]||[]).push(b);var c=n;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function q(){q=function(){};if(!n.Symbol){n.Symbol=ba;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var e=[],f=0,h=d.length;f<h;f++){var g;a:if(g=d[f],14>g.length)g=!1;else{for(var k=0;14>k;k++)if(g[k]!="jscomp_symbol_"[k]){g=!1;break a}g=!0}g?a.push(d[f]):e.push(d[f])}return e}};p("Object.keys",b);p("Object.getOwnPropertyNames",b);p("Object.getOwnPropertySymbols",function(c){return function(d){b.nc=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ca=0;
function ba(a){return"jscomp_symbol_"+a+ca++}function t(){q();n.Symbol.iterator||(n.Symbol.iterator=n.Symbol("iterator"));t=function(){}}function u(a){t();q();t();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function v(a){if(!(a instanceof Array)){a=u(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function w(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}var da="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function x(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function z(a,b){if(b){for(var c=n,d=a.split("."),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];b=b(e);if(b!=e){a=aa[a]||[];for(e=0;e<a.length;e++)b=a[e](b);da(c,d,{configurable:!0,writable:!0,value:b})}}}
z("WeakMap",function(a){function b(a){this.Ia=(g+=Math.random()+1).toString();if(a){q();t();a=u(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!x(a,f)){var b={};b[f]=h;da(a,f,{value:b})}}function d(a){return function(b){var c=a(b);if(x(b,f)&&x(b[f],f)&&b[f][f]===h)for(b=0;b<c.length;b++)if(c[b]==f){c.splice(b,1);break}return c}}function e(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),d=new a([[b,
2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var f="$jscomp_hidden_"+Math.random().toString().substring(2),h={};p("Object.getOwnPropertyNames",d);p("Object.keys",d);p("Reflect.enumerate",d);p("Reflect.ownKeys",d);p("Object.freeze",e);p("Object.preventExtensions",e);p("Object.seal",e);var g=0;b.prototype.set=function(a,b){c(a);if(!x(a,f))throw Error("WeakMap key fail: "+a);a[f][this.Ia]=b;return this};b.prototype.get=function(a){return x(a,
f)?a[f][this.Ia]:void 0};b.prototype.has=function(a){return x(a,f)&&x(a[f],this.Ia)};b.prototype.delete=function(a){return x(a,f)&&x(a[f],this.Ia)?delete a[f][this.Ia]:!1};return b});
z("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.Z,d={next:function(){if(c){for(;c.head!=a.Z;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?f.has(b)?c=f.get(b):(c=""+ ++h,f.set(b,c)):c="p_"+b;var d=a.Fa[c];if(d&&x(a.Fa,c))for(a=0;a<d.length;a++){var e=d[a];if(b!==b&&e.key!==
e.key||b===e.key)return{id:c,list:d,index:a,v:e}}return{id:c,list:d,index:-1,v:void 0}}function e(a){this.Fa={};this.Z=b();this.size=0;if(a){a=u(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(u([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;
e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(f){return!1}}())return a;q();t();var f=new WeakMap;e.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.Fa[c.id]=[]);c.v?c.v.value=b:(c.v={next:this.Z,previous:this.Z.previous,head:this.Z,key:a,value:b},c.list.push(c.v),this.Z.previous.next=c.v,this.Z.previous=c.v,this.size++);return this};e.prototype.delete=function(a){a=d(this,a);return a.v&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.Fa[a.id],
a.v.previous.next=a.v.next,a.v.next.previous=a.v.previous,a.v.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.Fa={};this.Z=this.Z.previous=b();this.size=0};e.prototype.has=function(a){return!!d(this,a).v};e.prototype.get=function(a){return(a=d(this,a).v)&&a.value};e.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return c(this,function(a){return a.key})};e.prototype.values=function(){return c(this,function(a){return a.value})};
e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});function ea(a,b){t();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
z("Array.prototype.keys",function(a){return a?a:function(){return ea(this,function(a){return a})}});z("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)x(e,f)&&(a[f]=e[f])}return a}});z("Array.prototype.find",function(a){return a?a:function(a,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++){var h=d[f];if(a.call(c,h,f,d)){a=h;break a}}a=void 0}return a}});
z("Array.prototype.fill",function(a){return a?a:function(a,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});function A(a){this.type=a}A.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
A.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};function fa(a,b,c){c=c[b];if(null!=c)if(Array.isArray(c))for(b=0;b<c.length;b++)a.required(String(b),c);else throw new TypeError("expected repeated "+a.type+' for property "'+b+'", found: '+JSON.stringify(c));return c}var B=new A("string"),ha=new A("boolean"),ia=new A("number"),ja=new A("object");
function ka(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function C(a,b){return ia.optional(a,b)||0}function D(a,b){return B.required(a,b)}function la(a,b,c){return(b=ja.optional(b,c))?a(b):b}function ma(a,b,c){return(b=fa(ja,b,c))?b.map(a):b}
function na(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var e=new Map,f=u(Object.keys(d)),h=f.next();!h.done;h=f.next())h=h.value,e.set(a(c,h),b(c,h,d));return e}function oa(a,b){return b}function pa(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};function qa(){}function E(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid argument":ra.apply(qa,[].concat([b],v(d))));}function sa(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid state":ra.apply(qa,[].concat([b],v(d))));}
function ta(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(null==a)throw Error(2>arguments.length?"argument is null":ra.apply(qa,[].concat([b],v(d))));}function ra(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=0;return a.replace(/\{}/g,function(){return e<c.length?c[e++]:"{}"})};function ua(a,b){switch(b){case "THUMBNAIL":return"THUMBNAIL";case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return"SCREEN";case "PRINT":return"PRINT";case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}};function va(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status}va.prototype.getVersion=function(){return this.version};function wa(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url};var xa={version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}},ya=C("version",xa),za=na(oa,function(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}.bind(null,function(a){return new wa({size:C("size",a),width:C("width",a),height:C("height",a),url:D("url",a)})}),"sizes",xa),Aa;
function Ba(){var a=Ca;switch(a){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "status", found: '+JSON.stringify(a));}}var Ca=B.optional("status",xa);Aa=null!=Ca?Ba():Ca;new va({version:ya,sizes:za,status:Aa});function F(a){this.Ga=a.Ga;this.Ha=a.Ha;this.user=a.user;this.la=a.la;this.xa=a.xa;this.ma=a.ma;this.Aa=a.Aa;this.na=a.na}function Da(a){var b=D("experience",a),c=na(oa,pa,"experiments",a)||new Map,d=B.optional("user",a)||null,e=B.optional("brand",a)||null,f=ha.optional("personal",a)||null,h;h=ia.optional("cohort",a);return new F({Ga:b,Ha:c,user:d,la:e,xa:f,ma:h||null,Aa:B.optional("tier",a)||null,na:B.optional("countryCode",a)||null})};function G(a,b){this.config=a;this.Sb=null;this.Ya=[];this.ready=!1;this.ga=b}function Ea(a,b){var c=Object.assign({},b);a.Sb&&(c.design=a.Sb);c.experience=a.config.Ga;a.config.Ha.forEach(function(a,b){c["Experiment:"+b]=a});a.config.la&&(c.brand=a.config.la);null!=a.config.xa&&(c.personal=a.config.xa);null!=a.config.ma&&(c.cohort=a.config.ma);a.config.Aa&&(c.tier=a.config.Aa);null!=a.config.na&&(c.country_code=a.config.na);Fa(c);return c}
function Fa(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}
function Ga(a,b){var c=window.lastUserTraits||H(new I),d=J(new I,"__user",a);a=a!==c.get("__user");if(b&&K(b)){for(var e=u(b),f=e.next();!f.done;f=e.next()){var h=u(f.value),f=h.next().value,h=h.next().value;a=a||h!==c.get(f)}c=u(b.keys());for(e=c.next();!e.done;e=c.next())e=e.value,J(d,e,b.get(e))}a&&(window.lastUserTraits=H(d));return a}
function Ia(a,b){var c=window.lastUserTraits||H(new I);a=J(new I,"__user",a);if(c&&K(c))for(var d=u(c.keys()),e=d.next();!e.done;e=d.next())e=e.value,"__user"!==e&&J(a,e,c.get(e));if(b&&K(b))for(c=u(b.keys()),e=c.next();!e.done;e=c.next())d=e.value,J(a,d,b.get(d));window.lastUserTraits=H(a)}function K(a){E(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
G.prototype.zoom=function(a,b,c,d,e){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:e})};function Ja(a,b){return a.track(b.name,b.Bb)}function Ka(){this.name="marketplace_media_item_clicked";this.Bb={}}function L(a,b,c){if(a.Bb[b])throw Error("duplicated property");a.Bb[b]=c;return a}function I(){this.items=[]}function J(a,b,c){a.items.push({key:b,value:c});return a}function H(a){return new Map(a.items.map(function(a){return[a.key,a.value]}))};function La(a){F.call(this,a)}w(La,F);function Ma(a,b){G.call(this,a,b);this.Ca=null}w(Ma,G);function Na(a){return new Ma(a,function(a,c,d){window.console.log("Google track: ",a,c,d)})}m=Ma.prototype;m.track=function(a,b){window.console.log("analytics:track",this.Ca,a,Ea(this,b));return P.resolve()};m.identify=function(a,b,c){this.Ca=a;Ga(a,b)&&(Ia(a,b),window.console.log("analytics:identify",a,b,c));return P.resolve()};m.alias=function(a){window.console.log("analytics:alias",this.Ca,a);this.Ca=a};
m.set=function(a){window.console.log("analytics:set",this.Ca,a);return P.resolve()};m.union=function(a){window.console.log("analytics:union",this.Ca,a)};function Oa(a){F.call(this,a);this.Hb=a.Hb}w(Oa,F);function Pa(a){var b=Da(a);return new Oa({Ga:b.Ga,Ha:b.Ha,user:b.user,la:b.la,xa:b.xa,ma:b.ma,Aa:b.Aa,Hb:D("segmentWriteKey",a),na:b.na})};var Ra=new Qa;function Qa(){}m=Qa.prototype;m.setInterval=function(a,b){return window.setInterval(a,b)};m.clearInterval=function(a){window.clearInterval(a)};m.setTimeout=function(a,b){return window.setTimeout(a,b)};m.clearTimeout=function(a){window.clearTimeout(a)};m.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};m.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function Sa(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function Ta(a,b,c){G.call(this,a,c);this.aa=b;this.readyState="PENDING";this.ic=3E4;this.qa=this.Va=null}w(Ta,G);
function Ua(a,b){var c=M(),d=new Ta(a,Ra,b);N(d).then(function(){for(d.ready=!0;d.Ya&&0<d.Ya.length;)d.Ya.shift()();d.Ya=null}).catch(function(){});window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,N(d).then(function(){var b={path:location.pathname,url:location.href};M().page(b,{integrations:{Leanplum:!1}});a.user||(b=window.Appcues||null)&&b.anonymous();b=(new UAParser).getResult();H(J(J(new I,"Most recent browser",b.browser.name+" "+b.browser.version),"timezone",(new Date).getTimezoneOffset()/
-60))}).catch(function(){}),c.load(a.Hb));return d}function M(){sa("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}m=Ta.prototype;m.track=function(a,b){var c=this;return N(this).then(function(d){return new P(function(e){d.track(a,Ea(c,b),{integrations:{Leanplum:!1}},e)})}).catch(function(){})};
m.identify=function(a,b,c){var d=this;return N(this).then(function(e){if(!Ga(a,b))return d.Va||P.resolve();d.Va=new P(function(f){Ia(a,b);e.identify(a,Va(b),c,function(){d.Va=null;f()})});return d.Va}).catch(function(){})};m.alias=function(a){N(this).then(function(b){return b.alias(a)}).catch(function(){})};m.set=function(a){return N(this).then(function(b){return new P(function(c){return b.identify(Va(a),c)})}).catch(function(){})};m.union=function(){};
function Va(a){var b={};if(a&&K(a)){a=u(a);for(var c=a.next();!c.done;c=a.next()){var d=u(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b}
function N(a){var b=M();if(null!==a.qa)return a.qa;if("SUCCESS"===a.readyState)return P.resolve(b);if("FAILURE"===a.readyState)return P.reject(Error("Segment initialization failed"));a.qa=new P(function(c,d){var e=a.aa.setTimeout(function(){a.readyState="FAILURE";a.qa=null;d(Error("Segment initialization failed"))},a.ic);b.ready(function(){"FAILURE"!==a.readyState&&(a.aa.clearTimeout(e),a.readyState="SUCCESS",a.qa=null,c(M()))})});return a.qa};function Wa(a,b){M();if(a instanceof La)b=Na(a);else if(a instanceof Oa)b=Ua(a,b);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b};function Xa(a){this.url=a.url;this.width=a.width;this.height=a.height}function Ya(a){return new Xa({url:D("url",a),width:C("width",a),height:C("height",a)})}function Za(a){this.Tb=a.Tb}function $a(a){return new Za({Tb:D("docType",a)})}function ab(a){this.id=a.id;this.displayName=a.displayName;this.parent=a.parent;this.Zb=a.Zb;this.Ub=a.Ub}ab.prototype.getParent=function(){return this.parent};
function bb(a){return new ab({id:D("id",a),displayName:D("displayName",a),parent:B.optional("parent",a),Zb:la(Ya,"thumbnail",a),Ub:la($a,"documentCreationSpec",a)})}function cb(a){this.j=a.j;this.query=a.query;this.locale=a.locale;this.ha=a.ha;this.limit=a.limit}function db(a){this.da=a.da||[];this.Ua=a.Ua||new Map;this.ha=a.ha}function eb(a){return new db({da:ma(bb,"results",a),Ua:na(oa,pa,"highlights",a),ha:B.optional("continuation",a)})};function O(){this.xhr=null}O.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};O.prototype.finish=function(){this.xhr=null};function fb(a){this.Lb=a&&a.analyticsContext||null;this.gb=a&&a.authToken||null;this.hb=a&&a.authzToken||null;this.Mb=a&&a.brandRestriction||null;this.Nb=a&&a.buildName||null;this.Ob=a&&a.buildSha||null;this.oa=a&&a.csrfTokens||{};this.Eb=a&&a.serverRoot||null;this.kc=!!this.Eb;this.lc=this.Eb?this.Eb+"/_ajax":"/_ajax"}
function gb(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}fb.prototype.get=function(a,b){var c=new O;this.send("GET",a,null,!0,null,c,b);return c};function hb(a,b){var c;return(new P(function(d,e){c=a.get(b,function(a,b){200<=a&&300>a?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}fb.prototype.post=function(a,b,c){var d=new O;ib(this,"POST",a,b,!0,0,d,c);return d};
function ib(a,b,c,d,e,f,h,g){var k=gb(c);if(k in a.oa){var l=a.oa[k];a.send(b,c,d,e,l,h,function(r,y){418==r&&1>f?(a.oa[k]==l&&delete a.oa[k],ib(a,b,c,d,e,f+1,h,g)):(g&&g(r,y),h.finish())})}else a.send("GET","/csrf"+k,null,e,null,h,function(l,y){200==l?(k in a.oa||(a.oa[k]=String(y)),ib(a,b,c,d,e,f,h,g)):(g(l,null),h.finish())})}
fb.prototype.send=function(a,b,c,d,e,f,h){function g(){4==l.readyState&&k()}function k(){var a,b,c;try{a=l.status;var d,e;try{d=l.getResponseHeader("X-Canva-Auth")}catch(g){}try{e=l.getResponseHeader("X-Canva-Authz")}catch(g){}d&&(r.gb="!"!=d?d:null);e&&(r.hb="!"!=e?e:null);b=l.responseText}catch(g){if(g.message&&g.message.match(/c00c023f/))a=0,b="";else throw f.finish(),g;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);f.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(g){h(500,null);f.finish();return}}else c=null;h(a,c);f.finish()}b=this.lc+b;var l=f.xhr=new XMLHttpRequest,r=this;l.open(a,b,d);this.kc&&(l.withCredentials=!0);"GET"!=a&&e&&l.setRequestHeader("X-Csrf-Token",e);this.Lb&&l.setRequestHeader("X-Canva-Analytics",this.Lb);this.gb&&l.setRequestHeader("X-Canva-Auth",this.gb);this.hb&&l.setRequestHeader("X-Canva-Authz",this.hb);this.Mb&&l.setRequestHeader("X-Canva-Brand",this.Mb);this.Nb&&l.setRequestHeader("X-Canva-Build-Name",
this.Nb);this.Ob&&l.setRequestHeader("X-Canva-Build-Sha",this.Ob);null===c||void 0===c?a=null:(l.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(l.onreadystatechange=g,l.send(a)):(l.send(a),k())};function jb(a){this.$el=a}jb.prototype.remove=function(){this.$el.remove()};function Q(a){this.$el=a;this.ra={}}Q.prototype.remove=function(){this.$el.off();this.$el.remove()};Q.prototype.on=function(a,b){E(!this.ra[a],"listener already registered for event {}",a);this.ra[a]=b};Q.prototype.off=function(a,b){null==a?this.ra={}:null!=b&&this.ra[a]!=b||delete this.ra[a]};Q.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.ra[a])&&d.apply(null,[].concat(v(c)))};function kb(a){var b=this;Q.call(this,a);a.on("click",".marketplaceCategoryList__categoryLink",function(a){a.target.href?b.trigger(lb,a.target.dataset.modelId,function(){return a.preventDefault()}):b.trigger(mb,a.target.dataset.modelId)})}w(kb,Q);function nb(a,b){return a.$el.find("[data-model-id\x3d'"+b+"']").siblings(".marketplaceCategoryList__children")}
function ob(a,b){a.$el.find(".marketplaceCategoryList__category").removeClass("marketplaceCategoryList__category--current");a=a.$el.find("[data-model-id\x3d'"+b+"']");a.closest(".marketplaceCategoryList__children").addClass("marketplaceCategoryList__children--visible");a.parent().addClass("marketplaceCategoryList__category--current");a.parent().parent().closest(".marketplaceCategoryList__category").addClass("marketplaceCategoryList__category--current")}
function pb(a,b){var c=$;b=b={bb:b};soy.asserts.assertType(null==b.bb||goog.isArray(b.bb),"topics",b.bb,"?Array\x3c{current: boolean, displayName: string, galleryPath: string, id: string}\x3e|undefined");b=b.bb;var d="";if(b){for(var e=b.length,f=0;f<e;f++){var h,g=b[f];soy.asserts.assertType(goog.isString(g.id)||g.id instanceof goog.soy.data.SanitizedContent,"id",g.id,"string|goog.soy.data.SanitizedContent");h=g.id;soy.asserts.assertType(goog.isString(g.displayName)||g.displayName instanceof goog.soy.data.SanitizedContent,
"displayName",g.displayName,"string|goog.soy.data.SanitizedContent");var k=g.displayName;soy.asserts.assertType(goog.isString(g.G)||g.G instanceof goog.soy.data.SanitizedContent,"galleryPath",g.G,"string|goog.soy.data.SanitizedContent");var l=g.G;soy.asserts.assertType(goog.isBoolean(g.current)||1===g.current||0===g.current,"current",g.current,"boolean");var r=!!g.current;soy.asserts.assertType(null==g.Pa||g.Pa instanceof goog.soy.data.SanitizedContent||goog.isString(g.Pa),"classes",g.Pa,"null|string|undefined");
var y=g.Pa;soy.asserts.assertType(null==g.Ma||goog.isBoolean(g.Ma)||1===g.Ma||0===g.Ma,"withoutLink",g.Ma,"boolean|null|undefined");var Ha=g.Ma;soy.asserts.assertType(null==g.Ea||g.Ea instanceof soydata.SanitizedHtml||g.Ea instanceof soydata.UnsanitizedText||goog.isString(g.Ea),"childHtml",g.Ea,"?soydata.SanitizedHtml|string|undefined");g=g.Ea;h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"marketplaceCategoryList__category'+(r?" marketplaceCategoryList__category--current":"")+(y?" "+
soy.$$escapeHtmlAttribute(y):"")+'"\x3e\x3ca '+(Ha?"":'href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(l))+'"')+'class\x3d"marketplaceCategoryList__categoryLink" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(h)+'"\x3e'+soy.$$escapeHtml(k)+"\x3c/a\x3e"+(g?soy.$$escapeHtml(g):"")+"\x3c/li\x3e");d+=h}d+='\x3cdiv class\x3d"marketplaceCategoryList__divider"\x3e\x3c/div\x3e'}b=soydata.VERY_UNSAFE.ordainSanitizedHtml(d);c=c(b.toString());a.$el.find(".marketplaceCategoryList__topics").empty().append(c)}
kb.prototype.Ta=function(){return String(this.$el.find(".marketplaceCategoryList__category--current").data("modelId"))};var lb="CATEGORY_CLICK",mb="CATEGORY_EXPAND_CLICK";function qb(a){this.cc=a.fallback;this.Vb=a.localePrecedence;this.rb={};this.g=a.messages;this.hc=this.Vb[0];this.jc=!!a.returnKeys}qb.prototype.format=function(a,b){if(this.jc)return[].join.call(arguments,":");var c=rb(this,a);return c.format.call(c,[].slice.call(arguments,1))};
function rb(a,b){if(a.rb.hasOwnProperty(b))return a.rb[b];var c=a.hc,d;a.Vb.some(function(c){d=a.g[c]&&a.g[c][b];return void 0!==d});d||(c=a.cc,d=a.g[c]&&a.g[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,sb);return a.rb[b]=c}var sb={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function tb(a){qb.apply(this,arguments)}w(tb,qb);tb.prototype.ua=function(){return this.format("marketplaceNoResultsFoundLabel")};function ub(a){this.id=a.id;this.displayName=a.displayName;this.G=a.G;this.parent=a.parent}ub.prototype.getParent=function(){return this.parent};function vb(a,b){var c=this;this.view=b;this.Xb=a.Wb;this.C=a.C;this.Pb=new Map(a.C.map(function(a){return[a.id,a]}));this.view.on(lb,function(a,b){return c.Wb(a,b)});this.view.on(mb,function(b){var e=!nb(c.view,b).hasClass("marketplaceCategoryList__children--visible");nb(c.view,b).toggleClass("marketplaceCategoryList__children--visible",e);a.vb&&a.vb()})}function wb(a,b){return new vb(a,b)}vb.prototype.destroy=function(){this.view.remove()};vb.prototype.l=function(){};
vb.prototype.Wb=function(a,b){if(this.Xb){for(var c=0,d=this.Pb.get(a);null!=d.parent;)d=this.Pb.get(d.parent),c++;2>c?(pb(this.view,null),ob(this.view,a)):2===c?(c=xb(this,a),pb(this.view,0<c.length?c:null),ob(this.view,a)):3===c&&(c=this.view.$el.find(".marketplaceCategoryList__topics"),c.find(".marketplaceCategoryList__category").removeClass("marketplaceCategoryList__category--current"),c.find("[data-model-id\x3d'"+a+"']").parent().addClass("marketplaceCategoryList__category--current"));b();this.Xb(a)}};
function xb(a,b){return a.C.filter(function(a){return a.parent===b}).map(yb)}function yb(a){return{id:a.id,displayName:a.displayName,G:a.G,current:!1,mc:!1,children:null}};function zb(a,b,c){return L(L(L(L(new Ka,"location","marketplace_gallery"),"media_id",a),"category_id",b),"current_page",c)};function Ab(a){soy.asserts.assertType(goog.isString(a.ua)||a.ua instanceof goog.soy.data.SanitizedContent,"noResultsFoundLabel",a.ua,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"marketplace__gridItem marketplace__gridItem--fullWidth marketplaceResultGrid__noResults"\x3e\x3cdiv class\x3d"marketplace__gridItemInner marketplace__gridItemInner--noBackground"\x3e'+soy.$$escapeHtml(a.ua)+"\x3c/div\x3e\x3c/div\x3e")};function Bb(a){this.$el=a;this.Ka=null}w(Bb,jb);
Bb.prototype.Ba=function(a){var b=this;this.$el.toggleClass("loadSpinner--loading",a);this.$el.find(".loadSpinner__scaleEffect").toggleClass("loadSpinner__scaleEffect--fullSize",a);a?(this.Ka&&this.Ka.cancel(),this.Ka=null,this.$el.find(".loadSpinner__spinner").removeClass("loadSpinner__spinner--paused")):this.Ka=P.delay(200).cancellable().then(function(){b.$el.find(".loadSpinner__spinner").addClass("loadSpinner__spinner--paused");b.Ka=null}).catch(P.CancellationError);return P.delay(200)};function Cb(a,b){Q.call(this,a);this.dc=b}w(Cb,Q);function Db(a){var b=new Bb(a.find(".loadSpinner"));return new Cb(a,b)}
function Eb(a,b){Fb(a);b.forEach(function(b){var d=$,e;e=e||{};soy.asserts.assertType(goog.isString(b.ta)||b.ta instanceof goog.soy.data.SanitizedContent,"mediaId",b.ta,"string|goog.soy.data.SanitizedContent");var f=b.ta;soy.asserts.assertType(goog.isString(b.ya)||b.ya instanceof goog.soy.data.SanitizedContent,"singlePagePath",b.ya,"string|goog.soy.data.SanitizedContent");var h=b.ya;soy.asserts.assertType(goog.isString(b.w)||b.w instanceof goog.soy.data.SanitizedContent,"thumbnailHoverOver",b.w,"string|goog.soy.data.SanitizedContent");
var g=b.w,k=goog.asserts.assertNumber(b.Fb,"expected parameter 'thumbnailHeight' of type int."),l=goog.asserts.assertNumber(b.Gb,"expected parameter 'thumbnailWidth' of type int.");soy.asserts.assertType(goog.isString(b.za)||b.za instanceof goog.soy.data.SanitizedContent,"thumbnailUrl",b.za,"string|goog.soy.data.SanitizedContent");var r=b.za;soy.asserts.assertType(goog.isString(b.title)||b.title instanceof goog.soy.data.SanitizedContent,"title",b.title,"string|goog.soy.data.SanitizedContent");var y=
b.title;soy.asserts.assertType(goog.isString(b.pa)||b.pa instanceof goog.soy.data.SanitizedContent,"galleryPagePath",b.pa,"string|goog.soy.data.SanitizedContent");var Ha=b.pa;soy.asserts.assertType(null==b.ea||b.ea instanceof goog.soy.data.SanitizedContent||goog.isString(b.ea),"categoryDisplayName",b.ea,"null|string|undefined");b=b.ea;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"marketplace__gridItem marketplace__gridItem--mediaCard"\x3e\x3cdiv class\x3d"marketplace__gridItemInner"\x3e\x3ca href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(h))+'" class\x3d"marketplaceCard__thumbnailLink" data-label\x3d"'+soy.$$escapeHtmlAttribute(g)+'" data-media-id\x3d"'+soy.$$escapeHtmlAttribute(f)+'" style\x3d"'+(e.lb?"/*"+e.lb+"*/":"")+"padding-top:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(100*k/l))+'%"\x3e\x3cimg class\x3d"marketplaceCard__thumbnail" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(r))+'" alt\x3d"'+soy.$$escapeHtmlAttribute(y)+'"\x3e\x3c/a\x3e\x3cdiv class\x3d"marketplaceCard__infoContainer"\x3e\x3ca href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(h))+'" data-media-id\x3d"'+soy.$$escapeHtmlAttribute(f)+'" class\x3d"marketplaceCard__title"\x3e'+soy.$$escapeHtml(y)+"\x3c/a\x3e"+(b?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(Ha))+'" class\x3d"marketplaceCard__category"\x3e'+soy.$$escapeHtml(b)+"\x3c/a\x3e":"")+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");d=d(e.toString());a.$el.append(d)});R(a)}
Cb.prototype.Cb=function(){this.$el.find(".marketplace__gridItem--mediaCard, .marketplaceResultGrid__noResults").remove();R(this)};function Fb(a){a.$el.removeClass("marketplace__grid--loaded");a.$el.masonry("destroy");a.$el.find(".marketplace__gridItem--mediaCard, .marketplaceResultGrid__noResults").remove()}function R(a){a.$el.one("layoutComplete",function(){a.$el.addClass("marketplace__grid--loaded")});a.$el.masonry({itemSelector:".marketplace__gridItem"})}
Cb.prototype.Ba=function(a){var b=this;return this.dc.Ba(a).then(function(){b.$el.find(".marketplaceResultGrid__loadSpinner").toggleClass("marketplaceResultGrid__loadSpinner--hidden",!a)})};function Gb(a){var b=this;Q.call(this,a);a.on("click",".marketplacePagination__link",function(a){b.trigger(Hb,Number(a.target.dataset.modelId),function(){return a.preventDefault()})})}w(Gb,Q);var Hb="PAGE_LINK_CLICK";function S(a,b){var c=this;Q.call(this,a);this.W=b.W;this.Ab=b.Ab;this.fa=b.fa;a.on("click",".marketplaceCard__title, .marketplaceCard__thumbnailLink",function(a){return c.wb(a)})}w(S,Q);S.prototype.Ba=function(a){return this.W.Ba(a)};function Ib(a,b){a.$el.find(".marketplaceGallery__pagination").toggleClass("marketplaceGallery__pagination--hidden",!b)}
S.prototype.wb=function(a){function b(){}var c=String($(a.currentTarget).attr("href")),d=String($(a.currentTarget).data("mediaId"));a.ctrlKey||a.metaKey||(a.preventDefault(),b=function(){return window.location.href=c});this.trigger(Jb,d,b)};S.prototype.redirect=function(a){window.location.href=a};var Jb="MEDIA_ITEM_CLICKED";function Kb(a){this.ta=a.ta;this.title=a.title;this.Fb=a.Fb;this.Gb=a.Gb;this.za=a.za;this.ea=a.ea;this.ya=a.ya;this.pa=a.pa;this.w=a.w}function Lb(a){return new Kb({ta:D("mediaId",a),title:D("title",a),Fb:C("thumbnailHeight",a),Gb:C("thumbnailWidth",a),za:D("thumbnailUrl",a),ea:B.optional("categoryDisplayName",a),ya:D("singlePagePath",a),pa:D("galleryPagePath",a),w:D("thumbnailHoverOver",a)})}
function Mb(a){this.Na=a.Na;this.j=a.j;this.locale=a.locale;this.page=a.page;this.limit=a.limit;this.ka=a.ka||[];this.w=a.w;this.query=a.query;this.nb=a.nb}function Nb(a){this.da=a.da||[];this.Ib=a.Ib}function Ob(a){return new Nb({da:ma(Lb,"results",a),Ib:C("totalHits",a)})};function Pb(a,b){b=a.path+"?domainName\x3d"+encodeURIComponent(b.j)+(null!=b.Na?"\x26category\x3d"+encodeURIComponent(b.Na):"")+"\x26locale\x3d"+encodeURIComponent(b.locale)+"\x26page\x3d"+encodeURIComponent(String(b.page))+"\x26limit\x3d"+encodeURIComponent(String(b.limit))+b.ka.map(function(a){return"\x26qualityPrecedence\x3d"+encodeURIComponent(a)}).join("")+"\x26thumbnailHoverOver\x3d"+encodeURIComponent(b.w)+(null!=b.query?"\x26query\x3d"+encodeURIComponent(b.query):"")+(null!=b.nb?"\x26excludeMediaId\x3d"+
encodeURIComponent(b.nb):"");return hb(a.pb,b).get(0).then(ka).then(Ob)};function Qb(a,b){this.view=b;this.va=a.va;this.Za=a.Za;this.g=a.g;this.view.on(Hb,this.fc.bind(this))}function Rb(a,b){return new Qb(a,b)}Qb.prototype.destroy=function(){this.view.remove()};Qb.prototype.l=function(){};Qb.prototype.fc=function(a,b){this.Za&&(this.Za(a),b(),Sb(this,{u:a,N:Number(this.view.$el[0].dataset.totalPages)}))};
function Sb(a,b){var c=a.view,d=Tb({va:a.va,N:b.N,u:b.u,g:a.g});b=b.N;a=$;for(var e="",d=goog.asserts.assertArray(d,"expected parameter 'pages' of type list\x3c[current: bool|null, label: string, pageNumber: float|int|null, path: null|string, type: string]\x3e."),f=d.length,h=0;h<f;h++){var g=d[h];if("TEXT"==g.type)soy.asserts.assertType(goog.isString(g.label)||g.label instanceof goog.soy.data.SanitizedContent,"label",g.label,"string|goog.soy.data.SanitizedContent"),g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"marketplacePagination__item"\x3e'+
soy.$$escapeHtml(g.label)+"\x3c/span\x3e");else if("DIVIDER"==g.type)g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"marketplacePagination__item marketplacePagination__item--slim"\x3e…\x3c/span\x3e');else if("LINK"==g.type){var k=g;soy.asserts.assertType(null==k.path||k.path instanceof goog.soy.data.SanitizedContent||goog.isString(k.path),"path",k.path,"null|string|undefined");g=k.path;soy.asserts.assertType(null==k.current||goog.isBoolean(k.current)||1===k.current||0===k.current,"current",
k.current,"boolean|null|undefined");var l=k.current,r=goog.asserts.assertNumber(k.gc,"expected parameter 'pageNumber' of type int.");soy.asserts.assertType(goog.isString(k.label)||k.label instanceof goog.soy.data.SanitizedContent,"label",k.label,"string|goog.soy.data.SanitizedContent");k=k.label;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"marketplacePagination__link'+(l?" marketplacePagination__item--active":"")+'" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(g))+'" data-model-id\x3d"'+
soy.$$escapeHtmlAttribute(r)+'"\x3e'+soy.$$escapeHtml(k)+"\x3c/a\x3e")}else g="";e+=g}d=soydata.VERY_UNSAFE.ordainSanitizedHtml(e);a=a(d.toString());c.$el.empty().append(a);null!=b&&(c.$el[0].dataset.totalPages=b)}function Ub(a,b){a.Za=b}
function Tb(a){function b(b,c){return{type:"LINK",label:c||""+b,gc:b,path:a.va(b),current:b===a.u}}E(0<a.u);E(0<a.N);E(a.u<=a.N);ta(a.va);var c=[];1<a.u&&c.push(b(a.u-1,"←"));c.push({type:"TEXT",label:a.g.format("marketplacePaginationLabel")});c.push(b(1));var d=Math.max(2,a.u-2),e=Math.min(a.N-1,a.u+2);for(2<d&&c.push({type:"DIVIDER"});d<=e;d++)c.push(b(d));e<a.N-1&&c.push({type:"DIVIDER"});1<a.N&&c.push(b(a.N));a.u<a.N&&c.push(b(a.u+1,"→"));return c};function Vb(a,b){this.view=b;this.g=a.g}function Wb(a,b){return new Vb(a,b)}Vb.prototype.destroy=function(){this.view.remove()};Vb.prototype.l=function(){R(this.view)};Vb.prototype.Cb=function(){this.view.Cb()};function T(a){var b=this;Q.call(this,a);this.X=a.find(".comboBox__query");this.cb=a.find(".comboBox__completionGroups");a.on("input",".comboBox__query",function(){return b.ja()});a.on("keydown",".comboBox__query",function(a){27===a.keyCode?(a.preventDefault(),b.trigger(Xb)):38===a.keyCode?(a.preventDefault(),b.trigger(Yb)):40===a.keyCode?(a.preventDefault(),b.trigger(Zb)):13===a.keyCode&&(a.preventDefault(),b.trigger($b,String(b.X.val())))});a.on("click",".comboBox__query",function(){return b.yb()});
a.on("click",".comboBox__completion",function(a){return b.Xa(a)});a.on("mouseover",".comboBox__completion",function(a){return b.ub(a)});a.on("mouseleave",".comboBox__completionGroups",function(){b.trigger(ac)})}w(T,Q);function bc(a){a.X.removeClass("comboBox__query--flat");a.cb.addClass("comboBox__completionGroups--hidden")}function cc(a){a.X.addClass("comboBox__query--flat");a.cb.removeClass("comboBox__completionGroups--hidden")}T.prototype.ja=function(){this.trigger(dc,String(this.X.val()))};
T.prototype.yb=function(){""!==String(this.X.val())&&this.trigger(ec)};T.prototype.ub=function(a){a=new U($(a.currentTarget));this.trigger(fc,a)};T.prototype.Xa=function(a){a=new U($(a.currentTarget));this.trigger(gc,a)};var ec="QUERY_CLICK",$b="INPUT_SUBMIT",dc="QUERY_INPUT",Xb="ESC_KEY_DOWN",Yb="UP_ARROW_KEY_DOWN",Zb="DOWN_ARROW_KEY_DOWN",fc="COMPLETION_MOUSE_OVER",ac="COMPLETION_GROUPS_MOUSE_LEAVE",gc="COMPLETION_CLICK";
function hc(a){this.$el=a;this.Kb=a.find(".comboBox__loader");this.Jb=a.find(".comboBox__completions")}w(hc,jb);function ic(a){a.Jb.find(".comboBox__completion").remove()}function U(a){this.$el=a}w(U,jb);U.prototype.select=function(){this.$el.addClass("comboBox__completion--selected")};function jc(a){a.$el.removeClass("comboBox__completion--selected")};function kc(a,b){Q.call(this,a);this.ac=b}w(kc,Q);function lc(a){var b=new T(a.find(".comboBox"));return new kc(a,b)};function mc(){this.H=[];this.F={ca:-1,index:-1}}m=mc.prototype;m.next=function(){var a=this.H.map(function(a){return a.length});this.F=this.navigate(nc,this.F,a);return this.Ta()};m.previous=function(){var a=this.H.map(function(a){return a.length});this.F=this.navigate(oc,this.F,a);return this.Ta()};m.Ta=function(){sa(0<=this.F.ca&&this.F.ca<this.H.length&&0<=this.F.index&&this.F.index<this.H[this.F.ca].length,"Invalid iterator index");return this.H[this.F.ca][this.F.index]};
function pc(a,b){var c=!1;a.H.forEach(function(d,e){d.forEach(function(d,h){d===b&&(a.F={ca:e,index:h},c=!0)})});if(!c)throw Error("Item not found: "+b);}m.reset=function(){this.F={ca:-1,index:-1}};m.clear=function(){var a=this;this.H.forEach(function(b,c){a.H[c]=[]})};
m.navigate=function(a,b,c){sa(c.some(function(a){return 0<a}),"Cannot navigate as all groups are empty.");var d=a===nc?1:-1,e=b.index+d;b=Math.max(0,b.ca);for(var f=c.length;0>e||e>=c[b];)b=(b+d)%f,0>b&&(b+=f),e=a===nc?0:c[b]-1;return{index:e,ca:b}};m.isEmpty=function(){return this.H.every(function(a){return 0===a.length})};var nc="NEXT",oc="PREVIOUS";function V(a,b){var c=this;this.view=b;this.jb=a.jb;this.zb=null;this.Qa=new Map;this.kb=[];this.D=a.D;this.Rb=[];this.o=null;b.on($b,function(a){c.o?c.Xa(c.o):(bc(c.view),c.zb({query:a}))});b.on(dc,function(a){return c.ja(a)});b.on(Xb,function(){bc(c.view);c.view.X.blur()});b.on(Yb,function(){c.D.isEmpty()||(c.o&&jc(c.o),qc(c,c.D.previous()))});b.on(Zb,function(){c.D.isEmpty()||(c.o&&jc(c.o),qc(c,c.D.next()))});b.on(fc,function(a){return c.ub(a)});b.on(ac,function(){c.o&&jc(c.o);c.o=null;c.D.reset()});
b.on(gc,function(a){return c.Xa(a)});b.on(ec,function(){return c.yb()})}function rc(a){return new V({jb:function(a,c){return new sc(a,c,Ra)},D:new mc},a)}function tc(a,b){a.zb=b}
function uc(a,b){b.forEach(function(b){var d=a.view,e=$,f;f=f={title:b.title};soy.asserts.assertType(null==f.title||f.title instanceof goog.soy.data.SanitizedContent||goog.isString(f.title),"title",f.title,"null|string|undefined");f=f.title;f=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBox__completionGroup"\x3e'+(f?'\x3cdiv class\x3d"comboBox__groupTitleContainer"\x3e\x3cdiv class\x3d"comboBox__groupTitle"\x3e'+soy.$$escapeHtml(f)+"\x3c/div\x3e\x3c/div\x3e":"")+'\x3cdiv class\x3d"comboBox__completions"\x3e\x3cdiv class\x3d"comboBox__loader comboBox__loader--hidden"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
e=e(f.toString());e=new hc(e);d.cb.append(e.$el);b=a.jb({source:b},e);a.Rb.push(b);a.D.H.push([])})}V.prototype.ja=function(a){this.kb&&this.kb.forEach(function(a){return a.cancel()});this.D.clear();this.Qa.clear();this.o=null;this.D.reset();""===a.trim()?bc(this.view):(this.kb=vc(this,a),cc(this.view))};
function vc(a,b){return a.Rb.map(function(c,d){return c.ja(b).then(function(b){a.D.H[d]=b;b=u(b);for(var c=b.next();!c.done;c=b.next())c=c.value,a.Qa.set(c.id,c)}).catch(P.CancellationError,function(){})})}function qc(a,b){var c=a.view.$el.find('.comboBox__completion[data-model-id\x3d"'+b.id+'"]');a.o=1===c.length?new U(c):null;a.o.select();a.view.X.val(b.query);cc(a.view)}
V.prototype.ub=function(a){this.o&&jc(this.o);this.o=a;this.o.select();a=this.Qa.get(this.o.$el[0].dataset.modelId);pc(this.D,a)};V.prototype.Xa=function(a){a=this.Qa.get(a.$el[0].dataset.modelId);this.view.X.val(a.query);this.view.X.focus();bc(this.view);this.zb({query:a.query,bc:a.id})};V.prototype.yb=function(){this.D.isEmpty()||cc(this.view)};function sc(a,b,c){this.view=b;this.source=a.source;this.aa=c}
sc.prototype.ja=function(a){var b=this,c=!1,d=this.aa.setTimeout(function(){c||(ic(b.view),b.view.Kb.removeClass("comboBox__loader--hidden"))},50);return this.source.ec(a).bind(this).then(function(a){c=!0;ic(b.view);for(var d=b.view,h=document.createDocumentFragment(),g=u(a),k=g.next();!k.done;k=g.next()){var l=k=k.value,r=$;soy.asserts.assertType(goog.isString(l.id)||l.id instanceof goog.soy.data.SanitizedContent,"id",l.id,"string|goog.soy.data.SanitizedContent");l=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBox__completion" data-model-id\x3d"'+
soy.$$escapeHtmlAttribute(l.id)+'"\x3e\x3c/div\x3e');r=r(l.toString());r=new U(r);r.$el.append(k.$b);h.appendChild(r.$el[0])}d.Jb.append(h);b.view.Kb.addClass("comboBox__loader--hidden");return a}).cancellable().catch(P.CancellationError,function(a){b.aa.clearTimeout(d);throw a;})};function W(a,b,c){var d=this;this.view=b;this.Qb=c;this.ba=a.ba;this.j=a.j;this.Y=a.Y;uc(this.Qb,[{ec:function(a){return d.ja(a)}}]);this.$a=a.$a;tc(this.Qb,function(a){return d.Ja(a)})}function wc(a,b){var c=rc(b.ac);return new W(a,b,c)}W.prototype.destroy=function(){this.view.remove()};W.prototype.l=function(){};
W.prototype.ja=function(a){var b=this,c=new cb({j:this.j,query:a,ha:null,limit:4});return P.delay(this.Y).cancellable().then(function(){var a=b.ba;return hb(a.pb,a.path+"/search/text"+("?domainName\x3d"+encodeURIComponent(String(c.j))+"\x26query\x3d"+encodeURIComponent(String(c.query))+(c.ha?"\x26continuation\x3d"+encodeURIComponent(c.ha):"")+"\x26limit\x3d"+encodeURIComponent(String(c.limit)))).get(0).then(ka).then(eb)}).then(function(a){return xc(a)})};
W.prototype.Ja=function(a){this.$a&&this.$a({query:a.query,Oa:a.bc})};function yc(a,b){a.$a=b}
function xc(a){return a.da.map(function(b){var c=a.Ua.get(b.id)?soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Ua.get(b.id)):b.displayName,d=b.displayName;b=b.id;var e=$,f;f=f||{};soy.asserts.assertType(c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"content",c,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("https://static.canva.com/static/images/icon_search_gray.2.svg"),"iconUrl","https://static.canva.com/static/images/icon_search_gray.2.svg","null|string|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBoxHarness__fancyCompletion"\x3e\x3cdiv class\x3d"comboBoxHarness__fancyCompletion__icon" '+
('style\x3d"'+(f.lb?"/*"+f.lb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri("https://static.canva.com/static/images/icon_search_gray.2.svg"))+"')\"")+"\x3e\x3c/div\x3e\x3cdiv\x3e"+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e");return{query:d,id:b,$b:e(c.toString())}})};function X(a,b,c){var d=this;this.view=b;this.fb=a.fb;this.sa=a.sa;this.i=a.i;this.locale=a.locale;this.ob=a.ob;this.J=c.J;this.wa=c.wa;this.K=c.K;this.R=c.R;this.u=1;this.mb=null;this.Yb=!1;yc(this.K,function(a){return d.Ja(a)});this.view.on(Jb,function(a,b){return d.wb(a,b)})}
function zc(){var a={fb:Ac,ba:Bc,sa:Cc,i:Dc,locale:Ec,ob:!0,g:Fc,La:Gc},b=Hc,c=Wb({g:a.g},b.W),d=Rb({g:a.g,va:function(){return"#"}},b.Ab),e=wc({ba:a.ba,j:a.i.j,Y:a.i.Y},a.La),f=wb({vb:function(){return R(b.W)},C:a.i.C},b.fa);return new X(a,b,{J:c,wa:d,K:e,R:f})}X.prototype.l=function(){this.J.l();this.wa.l();this.K.l();this.R.l();this.ob||Ic(this)};X.prototype.destroy=function(){this.J.destroy();this.wa.destroy();this.K.destroy();this.R.destroy();this.view.remove()};
function Ic(a,b,c){Jc(a);a.u=c||1;a.mb=b||"*";$("html, body").scrollTop(0);a.J.Cb();a.view.Ba(!0);Ib(a.view,!1);Pb(a.sa,new Mb({Na:null,j:a.i.j,locale:a.locale,page:a.u,limit:a.i.sb,ka:a.i.ka,w:a.i.w,query:a.mb})).then(function(b){a.view.Ba(!1).then(function(){var c=a.J,f=b.da;0<f.length?Eb(c.view,f):(f=c.view,c=c.g.ua(),Fb(f),f.$el.append($(Ab({ua:c}).toString())),R(f));b.da.length&&(Ib(a.view,!0),Sb(a.wa,{N:Math.ceil(b.Ib/25),u:a.u}))})})}
X.prototype.Ja=function(a){if(a.Oa){var b=this.i.C.filter(function(b){return b.id===a.Oa});if(0<b.length){this.view.redirect(b[0].G);return}}Ic(this,a.query)};X.prototype.wb=function(a,b){a=Ja(this.fb,zb(a,this.R.view.Ta(),this.u));P.race([P.delay(300),a]).then(function(){b()})};function Jc(a){a.Yb||(a.Yb=!0,Ub(a.wa,function(b){Ic(a,a.mb,b)}))};function Y(a){var b=this;Q.call(this,a);this.O=this.$el.find(".navigationMenuDropdown__content");this.Da=this.$el.find(".navigationMenuDropdown__label");a.on("click",".navigationMenuDropdown__label",function(a){return b.tb(a)});a.on("mouseenter",".navigationMenuDropdown__label, .navigationMenuDropdown__content",function(){return b.trigger(Kc)});a.on("mouseleave",".navigationMenuDropdown__label, .navigationMenuDropdown__content",function(){return b.trigger(Lc)})}w(Y,Q);
Y.prototype.show=function(a){var b=this;this.O.toggleClass("navigationMenuDropdown__content--displayAboveAnchor",a);this.O.toggleClass("navigationMenuDropdown__content--displayBelowAnchor",!a);this.O.addClass("navigationMenuDropdown__content--show");this.Da.toggleClass("navigationMenuDropdown__label--displayAboveAnchor",a);this.Da.toggleClass("navigationMenuDropdown__label--displayBelowAnchor",!a);Sa(function(){b.Da.addClass("navigationMenuDropdown__label--open");b.O.addClass("navigationMenuDropdown__content--open")})};
Y.prototype.hide=function(){var a=this;this.Da.removeClass("navigationMenuDropdown__label--open");this.O.removeClass("navigationMenuDropdown__content--open").on("transitionend",function(){a.O.hasClass("navigationMenuDropdown__content--open")||a.O.removeClass("navigationMenuDropdown__content--show")})};Y.prototype.tb=function(a){this.Da.hasClass("navigationMenuDropdown__label--noContent")||(a.preventDefault(),this.trigger(Mc))};
Y.prototype.translate=function(a,b){this.O.css({transform:"translateX(-50%) translateX("+a+") translateY("+b+")"})};var Mc="TOGGLE_ON_CLICK",Kc="TOGGLE_ON_MOUSE_ENTER",Lc="TOGGLE_ON_MOUSE_LEAVE";function Nc(a,b,c){var d=this;Q.call(this,a);this.Sa=c;this.eb=b;a.on("click",".navigationMenuMobile__label--hasChildren",function(a){a.preventDefault();Oc($(a.target).next(".navigationMenuMobile__content"))});a.on("click",".navigationMenuMobile__label--goUp",function(a){a.preventDefault();a=$(a.target).closest(".navigationMenuMobile__content").parent().closest(".navigationMenuMobile__content");Oc(a)});a.on("click",".navigationMenuMobile__overlay",function(){return Pc(d)});a.on("click",".navigationMenuMobile__button",
function(){Qc(d,d.$el.find(".navigationMenuMobile__wrapper").children());d.$el.find(".navigationMenuMobile__items").addClass("navigationMenuMobile__items--open");d.$el.find(".navigationMenuMobile__overlay").addClass("navigationMenuMobile__overlay--open")});this.eb.on("resize",function(){return d.trigger(Rc)})}w(Nc,Q);
function Pc(a){a.$el.find(".navigationMenuMobile__items").removeClass("navigationMenuMobile__items--open");a.$el.find(".navigationMenuMobile__overlay").removeClass("navigationMenuMobile__overlay--open")}
function Qc(a,b){a.$el.find(".navigationMenuMobile__label").addClass("navigationMenuMobile__label--noAnimation");a.$el.find(".navigationMenuMobile__content").addClass("navigationMenuMobile__content--noAnimation");Oc(b);a.eb[0].requestAnimationFrame(function(){a.$el.find(".navigationMenuMobile__label").removeClass("navigationMenuMobile__label--noAnimation");a.$el.find(".navigationMenuMobile__content").removeClass("navigationMenuMobile__content--noAnimation")})}
function Oc(a){a.hasClass("navigationMenuMobile__wrapper")||(a.siblings(".navigationMenuMobile__label").addClass("navigationMenuMobile__label--hidden"),a.parent().siblings().children(".navigationMenuMobile__label").addClass("navigationMenuMobile__label--hidden").end().children(".navigationMenuMobile__content").addClass("navigationMenuMobile__content--hidden"));a.removeClass("navigationMenuMobile__content--hidden").children().children(".navigationMenuMobile__label").removeClass("navigationMenuMobile__label--hidden").end().children(".navigationMenuMobile__content").addClass("navigationMenuMobile__content--hidden")}
var Rc="WINDOW_RESIZE";function Sc(a,b){Q.call(this,a);this.ia=b.ia}w(Sc,Q);function Tc(a,b,c){var d=this;this.aa=c;this.view=b;this.Ra=a.Ra;this.xb=null;this.ib=0;this.view.on(Mc,function(){return d.tb()});this.view.on(Kc,function(){d.open();d.aa.clearTimeout(d.ib)});this.view.on(Lc,function(){Uc(d)})}function Vc(a,b){a.xb=b}
Tc.prototype.open=function(){this.xb&&this.xb(this);var a=this.view,b=a.$el.width()/2,b=a.$el.offset().left+b,a=a.O.width()/2,a=b-a-10,c=this.view,b=$(window).width(),d=c.$el.width()/2,d=c.$el.offset().left+d,c=c.O.width()/2;this.view.translate(Math.min(0,b-(d+c)-10)-Math.min(0,a)+"px",this.Ra?"-100%":"100%");this.view.show(this.Ra)};Tc.prototype.close=function(){this.view.hide()};Tc.prototype.tb=function(){this.open()};
function Uc(a){a.aa.clearTimeout(a.ib);a.ib=a.aa.setTimeout(function(){return a.close()},500)};function Wc(a,b,c){var d=this;this.view=b;this.Wa=null!=a.Wa?a.Wa:1100;this.Sa=c;this.view.on(Rc,function(){return Xc(d)})}Wc.prototype.l=function(){var a=this;this.Sa.forEach(function(b){Vc(b,function(){return Yc(a,b)})});Xc(this)};function Yc(a,b){a.Sa.filter(function(a){return a!==b}).forEach(function(a){return a.close()})}
function Xc(a){if(Number(a.view.eb.width())>a.Wa){var b=a.view;b.$el.find(".navigationMenuMobile__items").removeClass("navigationMenuMobile__items--mobileEnabled");b.$el.find(".navigationMenuMobile__button").removeClass("navigationMenuMobile__button--mobileEnabled");b.$el.find(".navigationMenu__items").addClass("navigationMenu__items--desktopEnabled");Pc(a.view)}else a=a.view,a.$el.find(".navigationMenu__items").removeClass("navigationMenu__items--desktopEnabled"),a.$el.find(".navigationMenuMobile__items").addClass("navigationMenuMobile__items--mobileEnabled"),
a.$el.find(".navigationMenuMobile__button").addClass("navigationMenuMobile__button--mobileEnabled")};function Zc(a,b){this.view=a;this.ia=b.ia}Zc.prototype.l=function(){this.ia.l()};Zc.prototype.destroy=function(){this.view.remove()};function $c(a,b){Q.call(this,a);this.W=b.W;this.La=b.La;this.fa=b.fa}w($c,Q);$c.prototype.redirect=function(a){window.location.href=a};function ad(a,b,c){var d=this;this.view=b;this.sa=a.sa;this.i=a.i;this.J=c.J;this.K=c.K;this.R=c.R;yc(this.K,function(a){return d.Ja(a)})}function bd(){var a=cd,b={ba:Bc,sa:Cc,i:Dc,g:Fc},c=Wb({g:b.g},a.W),d=wc({ba:b.ba,j:b.i.j,Y:b.i.Y},a.La),e=wb({vb:function(){return R(a.W)},C:b.i.C},a.fa);return new ad(b,a,{J:c,K:d,R:e})}ad.prototype.l=function(){this.J.l();this.K.l();this.R.l()};ad.prototype.destroy=function(){this.J.destroy();this.K.destroy();this.R.destroy();this.view.remove()};
ad.prototype.Ja=function(a){var b=this;if(a.Oa){var c=this.i.C.filter(function(b){return b.id===a.Oa});if(0<c.length){this.view.redirect(c[0].G);return}}c=this.i.C.filter(function(a){return a.id===b.i.Db})[0];this.view.redirect(c.G+"?query\x3d"+a.query)};if(!window.cmsg)throw Error("window['cmsg'] isn't defined");var dd=new function(){this.config=window.cmsg;this.qb=null};dd.qb||(dd.qb=new tb(dd.config));
var Fc=dd.qb,Ac=function(){var a=ka(window.analyticsConfig),b=D("impl",a),c=window.ga||function(){};switch(b){case "console":return Wa(new La(Da(a)),c);case "segment":return Wa(Pa(a),c);default:throw Error('No such analytics type: "'+b+'"');}}(),ed=new fb(window.httpServiceConfig),Cc=new function(){this.pb=ed;this.path="/marketplace/search"},Bc=new function(){this.pb=ed;this.path="/category"},Ec=window.cmsg.localePrecedence[0],Z=ja.required("searchClientConfig",window),fd=D("domainName",Z),gd=D("rootCategory",
Z),hd,id=fa(B,"qualityPrecedence",Z);hd=null!=id?id.map(ua.bind(null,"qualityPrecedence")):id;var jd=D("thumbnailHoverOver",Z),kd=C("numberGalleryItems",Z),ld=ma(function(a){return new ub({id:D("id",a),displayName:D("displayName",a),G:D("galleryPath",a),parent:B.optional("parent",a)})},"categories",Z),md;
a:{var nd=B.required("pageType",Z);switch(nd){case "GALLERY":md="GALLERY";break a;case "MEDIA_ITEM":md="MEDIA_ITEM";break a;default:throw new TypeError('expected PageType for property "pageType", found: '+JSON.stringify(nd));}}
var Dc=new function(a){this.j=a.j;this.Db=a.Db;this.ka=a.ka||[];this.w=a.w;this.sb=a.sb;this.C=a.C||[];this.ab=a.ab;this.Y=a.Y}({j:fd,Db:gd,ka:hd,w:jd,sb:kd,C:ld,ab:md,Y:C("debounceMillis",Z)}),od=$(".marketplace"),pd=function(a){var b=a.find(".navigationMenuDropdown").toArray().map(function(a){return new Y($(a))});return new Nc(a,$(window),b)}(od.find(".navbar")),qd=new Sc(od,{ia:pd}),rd=function(a){var b=a.Sa.map(function(a){return new Tc({Ra:!1},a,Ra)});return new Wc({Wa:900},a,b)}(qd.ia);
(new Zc(qd,{ia:rd})).l();
switch(Dc.ab){case "GALLERY":var Gc=lc($(".marketplaceSearchBox--gallery")),sd=$(".marketplaceGallery"),td=Db(sd.find(".marketplaceResultGrid")),ud=sd.find(".marketplacePagination"),vd=new Gb(ud),wd=new kb(sd.find(".marketplaceCategoryList")),Hc=new S(sd,{W:td,Ab:vd,fa:wd});zc().l();break;case "MEDIA_ITEM":var xd=$(".marketplaceSingle"),yd=Db(xd.find(".marketplaceResultGrid")),zd=lc(xd.find(".marketplaceSearchBox")),Ad=new kb(xd.find(".marketplaceCategoryList")),cd=new $c(xd,{W:yd,La:zd,fa:Ad});bd().l();
break;default:throw Error("Unknown PageType: "+Dc.ab);};})();
